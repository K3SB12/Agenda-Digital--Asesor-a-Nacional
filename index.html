<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDOMEP · Simulador Transitorio IX</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 min-h-screen p-6">

<!-- ================== HEADER ================== -->

<div class="bg-indigo-900 text-white p-6 rounded-xl shadow-lg mb-6">
<h1 class="text-3xl font-bold">IDOMEP · Preparación Estrato Técnico Docente</h1>

<p class="mt-3 text-sm">
Simulador formativo basado en competencias del Título II.
No sustituye la prueba oficial del MEP.
</p>

<div class="mt-4 text-xs bg-white/20 p-3 rounded-lg">
Fundamento normativo:<br>
Art.2 RPCID · Art.5 inc.l y Art.15 LMEP 10159 · Ley 9871 ·
Resolución DG-RES-88-2023 · Art.17 inc.d RPCID<br>
Prueba oficial: 60 ítems · Selección única · Nota mínima: 70
</div>

<div class="mt-4 flex gap-3 flex-wrap">
<a href="https://dgth.mep.go.cr/pruebas-de-idoneidad-transitorio-ix/"
target="_blank"
class="bg-white text-indigo-900 px-3 py-2 rounded font-semibold">
Tablas oficiales DGTH
</a>

<a href="https://notebooklm.google.com/notebook/1d7bd2c4-bc5c-43bb-b65d-62275a44c58f"
target="_blank"
class="bg-yellow-400 text-black px-3 py-2 rounded font-semibold">
Abrir mis lecturas en NotebookLM
</a>
</div>
</div>

<!-- ================== COMPETENCIAS ================== -->

<div class="bg-white p-4 rounded-xl shadow mb-6">
<h2 class="font-bold mb-3">Competencias evaluadas (Estrato Técnico Docente)</h2>

<div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm">
<div class="bg-green-100 p-2 rounded">1.1 Dominio disciplinar</div>
<div class="bg-green-100 p-2 rounded">1.2 Marco jurídico</div>
<div class="bg-green-100 p-2 rounded">1.3 Estructura MEP</div>
<div class="bg-green-100 p-2 rounded">1.4 Dinámica global</div>
<div class="bg-blue-100 p-2 rounded">2.1 Diseño pedagógico</div>
<div class="bg-blue-100 p-2 rounded">2.2 Gestión educativa</div>
<div class="bg-blue-100 p-2 rounded">2.3 Liderazgo asesoría</div>
<div class="bg-blue-100 p-2 rounded">2.4 Investigación y recursos</div>
</div>
</div>

<!-- ================== PROGRESO ================== -->

<div class="bg-white p-4 rounded-xl shadow mb-6">
<p>Total ítems: 60 · Selección única · 4 opciones</p>

<div class="mt-3 bg-slate-200 rounded-full h-4">
<div id="barra" class="bg-green-500 h-4 rounded-full" style="width:0%"></div>
</div>

<p class="mt-2">
Progreso: <span id="progresoTexto">0%</span>
</p>
</div>

<!-- ================== AREA PREGUNTAS ================== -->

<div class="bg-white p-6 rounded-xl shadow mb-6">
<div id="preguntaArea"></div>
</div>

<div class="text-center">
<button onclick="iniciarSimulador()"
class="bg-indigo-700 text-white px-6 py-3 rounded-xl font-bold">
Iniciar simulación completa
</button>
</div>

<!-- ================== SCRIPT ================== -->

<script>

// =====================================================
// BANCO DISTRIBUIDO POR COMPETENCIAS
// =====================================================

const banco = {

"1.1":[
{texto:"Debe actualizar lineamientos curriculares. ¿Qué demuestra dominio disciplinar?",
opciones:[
{t:"Analizar fundamentos pedagógicos y curriculares vigentes",c:true},
{t:"Aplicar modelos sin revisión",c:false},
{t:"Improvisar estrategias",c:false},
{t:"Evitar actualización normativa",c:false}
]}
],

"1.2":[
{texto:"Una persona interina consulta sobre Transitorio IX. ¿Qué corresponde?",
opciones:[
{t:"Verificar requisitos según RPCID y LMEP",c:true},
{t:"Aprobar sin revisión formal",c:false},
{t:"Aplicar criterio personal",c:false},
{t:"Omitir normativa vigente",c:false}
]}
],

"1.3":[
{texto:"Se requiere coordinación entre nivel central y regional. ¿Qué es clave?",
opciones:[
{t:"Comprender estructura organizacional del MEP",c:true},
{t:"Actuar sin comunicación formal",c:false},
{t:"Ignorar jerarquías",c:false},
{t:"Evitar coordinación institucional",c:false}
]}
],

"1.4":[
{texto:"Una política digital impacta procesos pedagógicos. ¿Qué debe hacer?",
opciones:[
{t:"Analizar contexto global y local antes de decidir",c:true},
{t:"Ignorar lineamientos internacionales",c:false},
{t:"Aplicar decisiones sin diagnóstico",c:false},
{t:"Evitar innovación",c:false}
]}
],

"2.1":[
{texto:"Debe diseñar plan pedagógico regional. ¿Qué es indispensable?",
opciones:[
{t:"Diagnóstico contextual y alineación curricular",c:true},
{t:"Copiar modelo sin análisis",c:false},
{t:"Improvisar actividades",c:false},
{t:"Aplicar estrategia única para todos",c:false}
]}
],

"2.2":[
{texto:"Se implementa proyecto educativo regional. ¿Qué demuestra gestión adecuada?",
opciones:[
{t:"Planificación, seguimiento y evaluación del proyecto",c:true},
{t:"Ejecución sin monitoreo",c:false},
{t:"Delegar sin supervisión",c:false},
{t:"No documentar resultados",c:false}
]}
],

"2.3":[
{texto:"Debe liderar asesoría innovadora con tecnología. ¿Qué prioriza?",
opciones:[
{t:"Fortalecer competencias con uso estratégico TIC",c:true},
{t:"Uso libre sin lineamientos",c:false},
{t:"Tecnología sin capacitación",c:false},
{t:"Evitar herramientas digitales",c:false}
]}
],

"2.4":[
{texto:"Se requiere elaborar recurso educativo innovador. ¿Qué es fundamental?",
opciones:[
{t:"Sustento investigativo y pertinencia pedagógica",c:true},
{t:"Repetir material antiguo",c:false},
{t:"No validar contenido",c:false},
{t:"Omitir contexto estudiantil",c:false}
]}
]

};

// =====================================================
// CONFIGURACIÓN
// =====================================================

const distribucion = {
"1.1":8,
"1.2":10,
"1.3":6,
"1.4":6,
"2.1":10,
"2.2":8,
"2.3":6,
"2.4":6
};

let examen=[];
let indice=0;
let correctas=0;
let total=60;

// =====================================================
// GENERAR EXAMEN
// =====================================================

function generarExamen(){
examen=[];
for(let comp in distribucion){
for(let i=0;i<distribucion[comp];i++){
examen.push({
comp:comp,
pregunta:banco[comp][0]
});
}
}
}

// =====================================================
// INICIAR
// =====================================================

function iniciarSimulador(){
indice=0;
correctas=0;
generarExamen();
mostrarPregunta();
}

// =====================================================
// MOSTRAR
// =====================================================

function mostrarPregunta(){

if(indice>=total){
finalizar();
return;
}

const actual=examen[indice];

let html=`<h3 class="font-bold mb-2">Ítem ${indice+1} de 60</h3>`;
html+=`<p class="mb-4">${actual.pregunta.texto}</p>`;

actual.pregunta.opciones.forEach((op,i)=>{
html+=`
<div class="mb-2 p-2 border rounded cursor-pointer hover:bg-slate-100"
onclick="responder(${i})">
${op.t}
</div>
`;
});

document.getElementById("preguntaArea").innerHTML=html;
}

// =====================================================
// RESPONDER
// =====================================================

function responder(i){
const actual=examen[indice];

if(actual.pregunta.opciones[i].c) correctas++;

indice++;
actualizarBarra();
mostrarPregunta();
}

// =====================================================
// BARRA
// =====================================================

function actualizarBarra(){
let progreso=Math.round((indice/total)*100);
document.getElementById("barra").style.width=progreso+"%";
document.getElementById("progresoTexto").innerText=progreso+"%";
}

// =====================================================
// FINAL
// =====================================================

function finalizar(){

let nota=Math.round((correctas/total)*100);
let mensaje= nota>=70 ?
"<span class='text-green-600 font-bold'>APROBADO</span>" :
"<span class='text-red-600 font-bold'>NO APROBADO</span>";

document.getElementById("preguntaArea").innerHTML=
`<h2 class="text-xl font-bold mb-3">Resultado Final</h2>
<p>Respuestas correctas: ${correctas} de 60</p>
<p>Nota final: ${nota}</p>
<p class="mt-2">${mensaje}</p>

<button onclick="iniciarSimulador()"
class="mt-4 bg-indigo-600 text-white px-4 py-2 rounded">
Repetir simulación
</button>`;
}

</script>

</body>
</html>
